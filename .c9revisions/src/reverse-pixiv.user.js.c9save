{"ts":1375203700622,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// ==UserScript==\n// @name           Reverse Pixiv\n// @version 1.0.0\n// @namespace      http://e-shuushuu.net\n// @description    Add romanized artist name to Pixiv pages\n// @include        http://e-shuushuu.net*\n// @updateURL      http://claritism.com/pixivf/reverse-pixiv.user.js\n// @grant GM_xmlhttpRequest\n// @require       http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js\n// @licence       MIT http://opensource.org/licenses/MIT\n// ==/UserScript==\n\nvar filename = $('dt:contains(Original Filename:)').next();\nfilename.each(function(index, item){\n    var node = $(item);\n    var imageId = node.text().match(/^\\d+(_big)?(_p\\d+)?(\\.jpg|\\.png|\\.gif)$/);\n    if( imageId != null ) {\n        imageId = imageId[0].match(/\\d+/);\n        var link = $('<a>').attr('href','http://www.pixiv.net/member_illust.php?mode=medium&illust_id=' + imageId[0]).text(node.text());\n        node.text('').append(link);\n        GM_xmlhttpRequest({\n            method: 'GET',\n            url: 'http://www.pixiv.net/member_illust.php?mode=medium&illust_id=' + imageId[0] ,\n            onload: function(result) {\n                var href = result.responseText.match(/href=\"\\/member\\.php\\?id=[0-9]+/);\n                var id = href[0].match(/\\d+$/);                    \n                    GM_xmlhttpRequest({\n                        method: 'GET',\n                        url: 'http://pixivfetcher-claritism.rhcloud.com/artist/' + id[0] ,\n                        onload: function(result) {\n                            var artist = JSON.parse(result.response);\n                            if(artist.romanji != null){\n                                var span = $('<span>').text(artist.romanji).css({\n                                    'margin-left' : '10px',\n                                    'font-style' : 'italic'\n                                });\n                                node.append(span);\n                            }\n                        }\n                    });\n            }\n        });\n        \n    }\n});"]],"start1":0,"start2":0,"length1":0,"length2":2019}]],"length":2019}
{"contributors":[],"silentsave":false,"ts":1375209555156,"patch":[[{"diffs":[[1,"/ * global GM_xmlhttpRequest : false * /\n"],[0,"// ==UserScr"]],"start1":0,"start2":0,"length1":12,"length2":53},{"diffs":[[0,"ript==\n\n"],[1,"\n\n"],[0,"var file"]],"start1":501,"start2":501,"length1":16,"length2":18},{"diffs":[[0,"ageId !="],[1,"="],[0," null ) "]],"start1":722,"start2":722,"length1":16,"length2":17},{"diffs":[[0,"manji !="],[1,"="],[0," null){\n"]],"start1":1634,"start2":1634,"length1":16,"length2":17}]],"length":2064,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375209563137,"patch":[[{"diffs":[[0,"t : "],[-1,"fals"],[1,"tru"],[0,"e * "]],"start1":27,"start2":27,"length1":12,"length2":11}]],"length":2063,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375209596294,"patch":[[{"diffs":[[0,"pRequest"],[-1," "],[0,": true *"]],"start1":20,"start2":20,"length1":17,"length2":16}]],"length":2062,"saved":false}
{"ts":1375209601466,"patch":[[{"diffs":[[0,"/"],[-1," * "],[1,"*"],[0,"global G"]],"start1":0,"start2":0,"length1":12,"length2":10},{"diffs":[[0,": true *"],[-1," "],[0,"/\n// ==U"]],"start1":26,"start2":26,"length1":17,"length2":16}]],"length":2059,"saved":false}
{"ts":1375211777408,"patch":[[{"diffs":[[-1,"/*global GM_xmlhttpRequest: true */\n"],[0,"// ="]],"start1":0,"start2":0,"length1":40,"length2":4},{"diffs":[[0,"cript==\n"],[1,"/*global GM_xmlhttpRequest: true*/\n"],[0,"\n\n\nvar f"]],"start1":459,"start2":459,"length1":16,"length2":51}]],"length":2058,"saved":false}
